<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<project default="create_run_jar"
         name="Create Runnable Jar for project org.metaborg.spoofax.benchmark.cmd"
         basedir=".."
>
	<target name="create_run_jar">
		<jar destfile="dist/spxbench.jar" filesetmanifest="mergewithoutmain">
			<manifest>
				<attribute name="Main-Class" value="org.metaborg.spoofax.benchmark.cmd.Main" />
				<attribute name="Class-Path" value="." />
			</manifest>


			<!-- Index and task engine dependencies -->
			<zipfileset excludes="META-INF/*.SF"
			            src="../../mb-exec-deps/org.spoofax.interpreter.externaldeps/lib/guava.jar"
			/>
			<zipfileset excludes="META-INF/*.SF"
			            src="../../mb-exec-deps/org.spoofax.interpreter.externaldeps/lib/functionaljava.jar"
			/>


			<!-- Sunshine dependencies -->
			<zipfileset excludes="META-INF/*.SF"
			            src="../../spoofax-sunshine/org.spoofax.sunshine/lib/commons-io-2.4.jar"
			/>
			<zipfileset excludes="META-INF/*.SF"
			            src="../../spoofax-sunshine/org.spoofax.sunshine/lib/jcommander-1.30.jar"
			/>
			<zipfileset excludes="META-INF/*.SF"
			            src="../../spoofax-sunshine/org.spoofax.sunshine/lib/log4j-api-2.0-beta9-javadoc.jar"
			/>
			<zipfileset excludes="META-INF/*.SF"
			            src="../../spoofax-sunshine/org.spoofax.sunshine/lib/log4j-api-2.0-beta9.jar"
			/>
			<zipfileset excludes="META-INF/*.SF"
			            src="../../spoofax-sunshine/org.spoofax.sunshine/lib/log4j-core-2.0-beta9-javadoc.jar"
			/>
			<zipfileset excludes="META-INF/*.SF"
			            src="../../spoofax-sunshine/org.spoofax.sunshine/lib/log4j-core-2.0-beta9.jar"
			/>
			<zipfileset excludes="META-INF/*.SF"
			            src="../../spoofax-sunshine/org.spoofax.sunshine/lib/hamcrest-core-1.3.jar"
			/>
			<zipfileset excludes="META-INF/*.SF"
			            src="../../spoofax-sunshine/org.spoofax.sunshine/lib/junit-4.11.jar"
			/>
			<zipfileset excludes="META-INF/*.SF"
			            src="../org.metaborg.spoofax.benchmark.core/lib/jfreechart-1.0.17/lib/jcommon-1.0.21.jar"
			/>
			<zipfileset excludes="META-INF/*.SF"
			            src="../org.metaborg.spoofax.benchmark.core/lib/jfreechart-1.0.17/lib/jfreechart-1.0.17.jar"
			/>
			<zipfileset excludes="META-INF/*.SF"
			            src="../org.metaborg.spoofax.benchmark.core/lib/fst-1.54.jar"
			/>
			<zipfileset excludes="META-INF/*.SF"
			            src="../org.metaborg.spoofax.benchmark.cmd/lib/jcommander-1.35.jar"
			/>


			<!-- Sunshine -->
			<fileset dir="../../spoofax-sunshine/org.spoofax.sunshine/bin" />
			<zipfileset excludes="META-INF/*.SF"
			            src="../../spoofax-sunshine/org.spoofax.sunshine/lib/strategoxt.jar"
			/>
			<zipfileset excludes="META-INF/*.SF"
			            src="../../spoofax-sunshine/org.spoofax.sunshine/lib/sdf2imp.jar"
			/>


			<!-- Index and task engine -->
			<fileset dir="../../runtime-libraries/org.metaborg.runtime.task/bin" />
			<fileset dir="../../mb-rep/org.spoofax.interpreter.library.index/bin" />


			<!-- Core Stratego/Spoofax dependencies -->
			<fileset dir="../../jsglr/org.spoofax.jsglr/bin" />
			<fileset dir="../../mb-exec/org.spoofax.interpreter.core/bin" />
			<fileset dir="../../mb-rep/org.spoofax.terms/bin" />


			<!-- Spoofax benchmark -->
			<fileset dir="../org.metaborg.spoofax.benchmark.cmd/bin" />
			<fileset dir="../org.metaborg.spoofax.benchmark.core/bin" />
		</jar>
	</target>
</project>
